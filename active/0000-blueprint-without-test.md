- Start Date: 2016-09-16
- RFC PR:
- ember-cli Issue:

# Summary

It would be helpful if there were a flag for Ember CLI's generate command to support generating a blueprint without also automatically generating related blueprints (such as `-test`).

# Motivation

When generating a blueprint in Ember CLI today, it will helpfully also generate the related test blueprint if one exists with the same name followed by `-test`. For example, `ember generate model foo` will generate both the `model` blueprint as well as the `model-test` blueprint.

While this is very helpful for encouraging "doing the right thing" and keeping testing a visible priority, it is occasionally unwanted behavior. For example, when generating a model that will have only `DS.attr` properties and no other properties/functions that are testable.

# Detailed design

It is probably still a good idea to have related blueprints generated by default to encourage testing. However, we should offer a convenience flag for opting out of these generations. This flag would be passed to the `ember generate` command to opt out of the check for and generation of the `-test` blueprint.

```bash
$ ember generate model foo
installing model
  create app/models/foo.js
installing model-test
  create tests/unit/models/foo-test.js

$ ember generate model bar --no-test
installing model
  create app/models/bar.js
```

# Drawbacks

- Makes it easier to avoid thinking about whether a module should be tested

# Alternatives

This can be accomplished today by destroying the `-test` blueprint after running a generator, though is repetitive to type:

```bash
$ ember g model foo && ember d model-test foo
installing model
  create app/models/foo.js
installing model-test
  create tests/unit/models/foo-test.js
uninstalling model-test
  remove tests/unit/models/foo-test.js
```

It can be defined as a shell function for convenience:
```bash
eg() {
    ember g "$1" "$2" && ember d "${1}-test" "$2"
}
```

# Unresolved questions

- What should the flag be? Suggestions: `--no-test`, `--skip-test`
- Are there any other automatically-generated blueprints like `*-test` that should be considered?
  - [RFC#59](https://github.com/ember-cli/rfcs/pull/59/) proposes an automatically generated `*-template` blueprint